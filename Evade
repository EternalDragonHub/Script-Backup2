_G.DevMode = false

local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()
local SaveManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/SaveManager.lua"))()
local InterfaceManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/InterfaceManager.lua"))()

local openshit = Instance.new("ScreenGui")
local mainopen = Instance.new("TextButton")
local mainopens = Instance.new("UICorner")
local loki = Instance.new("ImageLabel")
local posto = Instance.new("UIStroke")

openshit.Name = "openshit"
openshit.Parent = game:GetService("Players").LocalPlayer:WaitForChild("PlayerGui")
openshit.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
openshit.ResetOnSpawn = false

mainopen.Name = "mainopen"
mainopen.Parent = openshit
mainopen.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
mainopen.Position = UDim2.new(0.101969875, 0, 0.110441767, 0)
mainopen.Size = UDim2.new(0, 64, 0, 42)
mainopen.Text = ""
mainopen.Visible = true
mainopens.Parent = mainopen
 
loki.Name = "loki"
loki.Parent = mainopen
loki.BackgroundColor3 = Color3.fromRGB(224,224,224)
loki.BackgroundTransparency = 1.000
loki.Position = UDim2.new(-0.0529999994, 0, -0.244000003, 0)
loki.Size = UDim2.new(0, 69, 0, 62)
loki.Image = "rbxassetid://73949062338801"
 
posto.Name = "posto"
posto.Parent = mainopen
posto.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
posto.Color = Color3.fromRGB(224,224,224)
posto.LineJoinMode = Enum.LineJoinMode.Round
posto.Thickness = 1
posto.Transparency = 0
posto.Enabled = true
posto.Archivable = true
 
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
 
local function MakeDraggable(topbarobject, object)
    local Dragging = nil
    local DragInput = nil
    local DragStart = nil
    local StartPosition = nil
    
    local function Update(input)
        local Delta = input.Position - DragStart
        local pos = UDim2.new(StartPosition.X.Scale, StartPosition.X.Offset + Delta.X, StartPosition.Y.Scale, StartPosition.Y.Offset + Delta.Y)
        local Tween = TweenService:Create(object, TweenInfo.new(0.15), {
            Position = pos
        })
        Tween:Play()
    end
    
    topbarobject.InputBegan:Connect(
        function(input)
            if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
                Dragging = true
                DragStart = input.Position
                StartPosition = object.Position
                
                input.Changed:Connect(
                    function()
                        if input.UserInputState == Enum.UserInputState.End then
                            Dragging = false
                        end
                    end
                )
            end
        end
    )
    
    topbarobject.InputChanged:Connect(
        function(input)
            if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
                DragInput = input
            end
        end
    )
    
    UserInputService.InputChanged:Connect(
        function(input)
            if input == DragInput and Dragging then
                Update(input)
            end
        end
    )
end

MakeDraggable(mainopen, mainopen) -- Making the button draggable

local RunService = game:GetService("RunService")
local fpsCounter = Instance.new("ScreenGui")
fpsCounter.Parent = game.CoreGui
fpsCounter.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
fpsCounter.ResetOnSpawn = false

local label = Instance.new("TextLabel")
label.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
label.BackgroundTransparency = 1.000
label.TextColor3 = Color3.fromRGB(255, 255, 255)
label.Font = Enum.Font.GothamBlack
label.Size = UDim2.new(0, 150, 0, 70)
label.Position = UDim2.new(0, 200, 0, 10)
label.Text = "FPS: 0\nTime Played: 0h 0m 0s"
label.TextSize = 10
label.Parent = fpsCounter

local startTime = tick()
local lastUpdateTime = tick()
local frameCount = 0

RunService.RenderStepped:Connect(function()
    local currentTime = tick()
    local deltaTime = currentTime - lastUpdateTime
    frameCount = frameCount + 1
    
    if frameCount == 1 and untilloaded == true then
       game:GetService("Players").LocalPlayer:Kick("Device Saver: CRASH DETECTED")
    end

    if deltaTime >= 1 then
        local fps = math.round(frameCount / deltaTime)
        local elapsedTime = currentTime - startTime

        local hours = math.floor(elapsedTime / 3600)
        local minutes = math.floor((elapsedTime % 3600) / 60)
        local seconds = math.floor(elapsedTime % 60)

        label.Text = "FPS: " .. fps .. "\nClient Timer: " .. hours .. "h " .. minutes .. "m " .. seconds .. "s"

        lastUpdateTime = currentTime
        frameCount = 0
    end
end)

if not require then
    return game:GetService("Players").LocalPlayer:Kick("UNC RESTRICTION MISSING: require(path) | PLEASE TRY OTHER EXECUTORS")
else
print("Supported require()")
end

if not firetouchinterest  then
    return game:GetService("Players").LocalPlayer:Kick("UNC RESTRICTION MISSING: firetouchinterest() | PLEASE TRY OTHER EXECUTORS")
else
print("Supported firetouchinterest()")
end

if not setfpscap or setfpscap(500) then
    return game:GetService("Players").LocalPlayer:Kick("UNC RESTRICTION MISSING: setfpscap() | PLEASE TRY OTHER EXECUTORS")
else
print("Supported setfpscap()")
end

if not getgc then
    return game:GetService("Players").LocalPlayer:Kick("UNC RESTRICTION MISSING: getgc() | PLEASE TRY OTHER EXECUTORS")
else
print("Supported getgc()")
end

if game.Players then
print("Advance Api")
else
print("Common Api")
end

local SizeGuiX = 580
local SizeGuiZ = 460

local Window = Fluent:CreateWindow({
    Title = "Draconic Hub X Evade (Overhaul)",
    SubTitle = "V2.8 Made by LuckyDragon910 discord.gg/d2a3KkTD6r",
    TabWidth = 160,
    Size = UDim2.fromOffset(SizeGuiX, SizeGuiZ),
    Acrylic = false, -- The blur may be detectable, setting this to false disables blur entirely
    Theme = "Aqua",
    MinimizeKey = Enum.KeyCode.LeftControl
})

mainopen.MouseButton1Click:Connect(function()
   Window:Minimize()
end)

local Tabs = {
    Main = Window:AddTab({ Title = "Main", Icon = "rbxassetid://7733960981" }),
    AutoFarm = Window:AddTab({ Title = "Auto Farms", Icon = "rbxassetid://10734949856" }),
    Combat = Window:AddTab({ Title = "Combat", Icon = "rbxassetid://10734975692" }),
    Misc = Window:AddTab({ Title = "Misc", Icon = "rbxassetid://7734068321" }),
    Settings = Window:AddTab({ Title = "Save Config", Icon = "rbxassetid://7734052335" })
}

local Options = Fluent.Options

-- Main

local Players = game:GetService("Players")

Tabs.Main:AddParagraph({
        Title = "Game Modification",
        Content = " "
    })

local AutoRespawn = false
local RespawnType = "Spawnpoint"
local oldpositiondowned = Vector3.zero

local Toggle = Tabs.Main:AddToggle("AutoRespawn", {Title = "Auto Respawn", Default = false })

    Toggle:OnChanged(function(State)
        AutoRespawn = State
        
 repeat
  wait(0.2)
   spawn(function()
      if AutoRespawn then
		 local char = game:GetService("Players").LocalPlayer.Character or game:GetService("Players").LocalPlayer.CharacterAdded:Wait()
		   if char and char:GetAttribute("Downed") == true and RespawnType == "Spawnpoint" then
		        game:GetService("ReplicatedStorage").Events.Player.ChangePlayerMode:FireServer(true)
		    elseif char and char:GetAttribute("Downed") == true and RespawnType == "Fake Revive" then
		        oldpositiondowned = char.HumanoidRootPart.Position
		        wait(0.2)
		        game:GetService("ReplicatedStorage").Events.Player.ChangePlayerMode:FireServer(true)
		        wait(1)
		        game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(oldpositiondowned)
	      	end
	       end
	    end)
	until AutoRespawn == false
end)

local Dropdown = Tabs.Main:AddDropdown("RespawnType", {
        Title = "Respawn Type",
        Values = {"Spawnpoint", "Fake Revive"},
        Multi = false,
        Default = 1,
    })

    Dropdown:OnChanged(function(Value)
        RespawnType = Value
    end)

Tabs.Main:AddParagraph({
        Title = " ",
        Content = ""
    })
    
local Toggle = Tabs.Main:AddToggle("AntiAfk", {Title = "Anti-AFK", Default = false })

    Toggle:OnChanged(function()
local vu = game:GetService("VirtualUser")
repeat wait() until game:IsLoaded() 
	game:GetService("Players").LocalPlayer.Idled:connect(function()
    game:GetService("VirtualUser"):ClickButton2(Vector2.new())
		vu:Button2Down(Vector2.new(0,0),workspace.CurrentCamera.CFrame)
		wait(1)
		vu:Button2Up(Vector2.new(0,0),workspace.CurrentCamera.CFrame)
     end)
 end)
 
Options.AntiAfk:SetValue(true)

local AutoWhistle = false

function autowistlefunction()
   game:GetService("ReplicatedStorage").Events.Character.Whistle:FireServer()
end

local Toggle = Tabs.Main:AddToggle("AutoWhistle", {Title = "Auto Whistle", Default = false })

    Toggle:OnChanged(function(State)
        AutoWhistle = State
      while task.wait(1) and AutoWhistle do
			autowistlefunction()
		end
    end)
    
function nodamagepart()
   local Map = game.Workspace.Game.Map
   
   for i, v in pairs(Map:GetDescendants()) do
     if v:IsA("BasePart") and v.CanTouch == true then
          v.CanTouch = false
       end
   end
end

function nowaterdmg(t)
	for i, v in next, t:GetChildren() do
		if v.IsA(v, 'BasePart') then
			v.CanTouch = false
		end
	end
end

function RemoveReduceRewards()
    for i, v in pairs(game.Workspace.Game.Map.SafeZones:GetDescendants()) do
       if v:IsA("BasePart") then
          v:Destroy()
       end
    end
end

function NoCameraShake()
    local FOVAdjusters = game:GetService("Players").LocalPlayer:FindFirstChild("PlayerScripts")
    and game:GetService("Players").LocalPlayer.PlayerScripts:FindFirstChild("Camera")
    and game:GetService("Players").LocalPlayer.PlayerScripts.Camera:FindFirstChild("FOVAdjusters")

    if FOVAdjusters then
       FOVAdjusters:SetAttribute("Fear", 1)
    end
end

local RemoveDamagePart = false
local RemoveReducingRewards = false
local NoCameraShakeTG = false

local Toggle = Tabs.Main:AddToggle("RemoveDamage", {Title = "Remove Damage Objects", Default = false })

    Toggle:OnChanged(function(State)
        RemoveDamagePart = State
      while task.wait(1) and RemoveDamagePart do
			spawn(nodamagepart)
		end
    end)
    
 local Toggle = Tabs.Main:AddToggle("RemoveReducingRewards", {Title = "Remove Reducing Rewards", Default = false })

    Toggle:OnChanged(function(State)
        RemoveReducingRewards = State
      while task.wait(1) and RemoveReducingRewards do
			spawn(RemoveReduceRewards)
		end
    end)
    
local Toggle = Tabs.Main:AddToggle("RemoveReducingRewards", {Title = "No Camera Shake", Default = false })

    Toggle:OnChanged(function(State)
        NoCameraShake = State
      while task.wait(.1) and NoCameraShakeTG do
			spawn(NoCameraShake)
		end
    end)

function timernotify()
local player = game.Players.LocalPlayer

-- Create a new ScreenGui and Frame
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = player.PlayerGui
screenGui.ResetOnSpawn = false
screenGui.Name = "TimerGui"

-- Create a TextLabel for the timer
local timerLabel = Instance.new("TextLabel")
timerLabel.Parent = screenGui
timerLabel.Size = UDim2.new(0, 200, 0, 50)
timerLabel.Position = UDim2.new(0.5, -100, 0.1, 0) -- Centered on screen
timerLabel.BackgroundTransparency = 1 -- Make background invisible
timerLabel.TextScaled = true
timerLabel.Font = Enum.Font.GothamBold
timerLabel.TextColor3 = Color3.new(1, 1, 1) -- White text
end

function detimer()
local player = game.Players.LocalPlayer

if player.PlayerGui:FindFirstChild("TimerGui") then
    player.PlayerGui.TimerGui:Destroy()
  end
end

local TimerText = false

local Toggle = Tabs.Main:AddToggle("ShowTimer", {Title = "Show Timer", Default = false })

    Toggle:OnChanged(function(State)
    TimerText = State

   if TimerText then
   timernotify()
else
   detimer()
  end

    while TimerText and wait(0.1) do
       if game.Players.LocalPlayer.PlayerGui:FindFirstChild("TimerGui") then
             game.Players.LocalPlayer.PlayerGui.TimerGui.TextLabel.Text = workspace.Game.Stats:GetAttribute("Timer")
           end
        end
    end)

 Tabs.Main:AddParagraph({
        Title = "Billboard ESP",
        Content = " "
    })
    
function Simple_Create(base, name, trackername, studs)
    local bb = Instance.new("BillboardGui")
    bb.Adornee = base
    bb.ExtentsOffset = Vector3.new(0, 1, 0)
    bb.AlwaysOnTop = true
    bb.Size = UDim2.new(0, 6, 0, 6)
    bb.StudsOffset = Vector3.new(0, 1, 0)
    bb.Name = trackername
    bb.Parent = game.CoreGui

    local frame = Instance.new("Frame")
    frame.ZIndex = 10
    frame.BackgroundTransparency = 0.3
    frame.Size = UDim2.new(3, 0, 3, 0)
    frame.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
    frame.Parent = bb

    -- Add UICorner to make the frame circular
    local uiCorner = Instance.new("UICorner")
    uiCorner.CornerRadius = UDim.new(0.5, 0)
    uiCorner.Parent = frame

    local txtlbl = Instance.new("TextLabel")
    txtlbl.ZIndex = 10
    txtlbl.BackgroundTransparency = 1
    txtlbl.Position = UDim2.new(0, 0, 0, -48)
    txtlbl.Size = UDim2.new(1, 0, 10, 0)
    txtlbl.Font = Enum.Font.SourceSans
    txtlbl.Text = name
    txtlbl.TextSize = 14    
    txtlbl.TextStrokeTransparency = 0.5
    txtlbl.TextColor3 = Color3.fromRGB(255, 0, 0)
    txtlbl.Parent = bb
    
    local txtdistance = Instance.new("TextLabel")
    txtdistance.ZIndex = 10
    txtdistance.BackgroundTransparency = 1
    txtdistance.Position = UDim2.new(0, 0, 0, -30)
    txtdistance.Size = UDim2.new(1, 0, 10, 0)
    txtdistance.Font = Enum.Font.SourceSans
    txtdistance.TextSize = 14
    txtdistance.TextStrokeTransparency = 0.5
    txtdistance.TextColor3 = Color3.fromRGB(255, 255, 255)
    txtdistance.Parent = bb
    
    local distance = math.floor((game:GetService("Players").LocalPlayer.Character.HumanoidRootPart.Position - base.Position).Magnitude)
    
    txtdistance.Text = distance.. " M"
end

function ClearESP(espname)
	for _, v in pairs(game.CoreGui:GetChildren()) do
		if v.Name == espname and v:isA("BillboardGui") then
			v:Destroy()
		end
	end
end

local BotESP = false

local Toggle = Tabs.Main:AddToggle("ESPBot", {Title = "ESP Bot", Default = false })

    Toggle:OnChanged(function(State)
        BotESP = State
        
        task.spawn(
                function()
			while task.wait(0.3) do
				ClearESP('AI_Tracker')
				if not BotESP then
					break
				end
				pcall(function()
					local GamePlayers = workspace.Game.Players
					for i, v in pairs(GamePlayers:GetChildren()) do
						if not game.Players:FindFirstChild(v.Name) then
							Simple_Create(v.HumanoidRootPart, v.Name, "AI_Tracker")
						end
					end
				end)
			end
	 end)
 end)
    
local PlayerESP = false

local Toggle = Tabs.Main:AddToggle("ESPPlayers", {Title = "ESP Players", Default = false })

Toggle:OnChanged(function(State)
    PlayerESP = State
   
        while PlayerESP and wait(1) do
            pcall(function()
                if PlayerESP then
                    local localPlayer = game:GetService("Players").LocalPlayer
                    local localCharacter = localPlayer.Character
                    local localHumanoidRootPart = localCharacter and localCharacter:FindFirstChild("HumanoidRootPart")
                    
                    if not localHumanoidRootPart then
                        return
                    end

                    for _, player in pairs(game.Players:GetPlayers()) do
                        if player ~= localPlayer and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                            local character = player.Character
                            local humanoidRootPart = character.HumanoidRootPart

                            if not humanoidRootPart:FindFirstChild("PlayerESP") then
                                local BillboardGui = Instance.new("BillboardGui")
                                local TextLabel = Instance.new("TextLabel")

                                BillboardGui.Parent = humanoidRootPart
                                BillboardGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
                                BillboardGui.Name = "PlayerESP"
                                BillboardGui.AlwaysOnTop = true
                                BillboardGui.LightInfluence = 1.000
                                BillboardGui.Size = UDim2.new(0, 200, 0, 50)
                                BillboardGui.StudsOffset = Vector3.new(0, 2.5, 0)
                                BillboardGui.MaxDistance = 500

                                TextLabel.Parent = BillboardGui
                                TextLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                                TextLabel.BackgroundTransparency = 1.000
                                TextLabel.Size = UDim2.new(0, 200, 0, 50)
                                TextLabel.TextScaled = false
                                TextLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
                                TextLabel.Font = Enum.Font.SourceSans
                                TextLabel.TextSize = 14
                            end

                            local distance = math.floor((localHumanoidRootPart.Position - humanoidRootPart.Position).Magnitude)
                            local labelText = string.format("%s - %d M", player.Name, distance)

                            local gamePlayer = workspace:WaitForChild("Game", 1337).Players:FindFirstChild(player.Name)
                            if gamePlayer and gamePlayer:GetAttribute('Downed') == true then
                                humanoidRootPart.PlayerESP.TextLabel.TextColor3 = Color3.fromRGB(255, 0, 0)
                                labelText = labelText .. " (Downed)"
                            elseif gamePlayer and gamePlayer:GetAttribute('Team') == "Nextbot" then
                                humanoidRootPart.PlayerESP.TextLabel.TextColor3 = Color3.fromRGB(255, 0, 0)
                                labelText = labelText .. " (Enemy)"
                            else
                                humanoidRootPart.PlayerESP.TextLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
                            end
                            
                            humanoidRootPart.PlayerESP.TextLabel.Text = labelText
                        end
                    end
                else
                    for _, player in pairs(game.Players:GetPlayers()) do
                        if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                            local humanoidRootPart = player.Character.HumanoidRootPart
                            local esp = humanoidRootPart:FindFirstChild("PlayerESP")
                            if esp then
                                esp:Destroy()
                            end
                        end
                    end
                end
            end)
        end
end)

local ObjectiveESP = false

local Toggle = Tabs.Main:AddToggle("ESPObjective", {Title = "ESP Objective", Default = false })

    Toggle:OnChanged(function(State)
        ObjectiveESP = State
	
while ObjectiveESP and wait(0.4) do
 pcall(function()
        if ObjectiveESP and workspace.Game.Map.Parts:FindFirstChild("Objectives") then
            local localPlayer = game:GetService("Players").LocalPlayer
            local localCharacter = localPlayer.Character
            local localHumanoidRootPart = localCharacter and localCharacter:FindFirstChild("HumanoidRootPart")

            if not localHumanoidRootPart then
                return
            end

         for i, v in next, workspace.Game.Map.Parts.Objectives:GetDescendants() do
			if v.IsA(v, "Model") then
                    if not v:FindFirstChild("ObjectiveESP") then
                        local BillboardGui = Instance.new("BillboardGui")
                        local TextLabel = Instance.new("TextLabel")

                        -- Billboard settings
                        BillboardGui.Parent = v:FindFirstChildWhichIsA("BasePart")
                        BillboardGui.Name = "ObjectiveESP"
                        BillboardGui.AlwaysOnTop = true
                        BillboardGui.Size = UDim2.new(0, 50, 0, 50)
                        BillboardGui.StudsOffset = Vector3.new(0, 2, 0)
                        BillboardGui.MaxDistance = 500

                        -- TextLabel settings
                        TextLabel.Parent = BillboardGui
                        TextLabel.BackgroundColor3 = Color3.new(1, 1, 1) -- White background
                        TextLabel.BackgroundTransparency = 1 -- Fully transparent
                        TextLabel.Size = UDim2.new(1, 0, 1, 0) -- Fill the billboard
                        TextLabel.Text = "(OBJECTIVES)" -- Display the grandparent name
                        TextLabel.TextColor3 = Color3.new(1, 0, 0) -- Red text
                        TextLabel.TextScaled = true -- Scale text to fit
                        TextLabel.Font = Enum.Font.SourceSans
                    end
                    
                   local distance = math.floor((localHumanoidRootPart.Position - v.Position).Magnitude)
                    v.ObjectiveESP.TextLabel.Text = string.format("(OBJECTIVES) - %d M", distance)
                end
            end
        else
            for i, v in next, workspace.Game.Map.Parts.Objectives:GetChildren() do
	  		if v.IsA(v, "Model") then
                if v:FindFirstChildWhichIsA("BasePart") and v:FindFirstChild("ObjectiveESP") then
                    v.ObjectiveESP:Destroy()
                   end
                end
            end
        end
    end)
  end
 end)

local ESPTickets = false

local Toggle = Tabs.Main:AddToggle("ESPTicket", {Title = "ESP Tickets", Default = false })

    Toggle:OnChanged(function(State)
        ESPTickets = State
        
        while ESPTickets and wait(0.4) do
        local highlight = workspace.Game.Effects:FindFirstChild("TicketHighlight")

if highlight then
    highlight.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
    highlight.FillTransparency = 0.5 
    highlight.OutlineTransparency = 0 
    highlight.FillColor = Color3.fromRGB(255, 0, 0) 
    highlight.OutlineColor = Color3.fromRGB(255, 255, 255)  
end
 pcall(function()
        if ESPTickets then
            local localPlayer = game:GetService("Players").LocalPlayer
            local localCharacter = localPlayer.Character
            local localHumanoidRootPart = localCharacter and localCharacter:FindFirstChild("HumanoidRootPart")

            if not localHumanoidRootPart then
                return
            end

            for _, v in pairs(game.Workspace.Game.Effects.Tickets:GetDescendants()) do
                if v:IsA("BasePart") and v.Name == "HumanoidRootPart" then
                    if not v:FindFirstChild("TicketESP") then
                        local BillboardGui = Instance.new("BillboardGui")
                        local TextLabel = Instance.new("TextLabel")

                        -- Billboard settings
                        BillboardGui.Parent = v 
                        BillboardGui.Name = "TicketESP"
                        BillboardGui.AlwaysOnTop = true
                        BillboardGui.Size = UDim2.new(0, 50, 0, 50)
                        BillboardGui.StudsOffset = Vector3.new(0, 2, 0)
                        BillboardGui.MaxDistance = 500

                        -- TextLabel settings
                        TextLabel.Parent = BillboardGui
                        TextLabel.BackgroundColor3 = Color3.new(1, 1, 1) -- White background
                        TextLabel.BackgroundTransparency = 1 -- Fully transparent
                        TextLabel.Size = UDim2.new(1, 0, 1, 0) -- Fill the billboard
                        TextLabel.Text = "Candy Corn" -- Display the grandparent name
                        TextLabel.TextColor3 = Color3.new(1, 0, 0) -- Red text
                        TextLabel.TextScaled = true -- Scale text to fit
                        TextLabel.Font = Enum.Font.SourceSans
                    end
                    
                   local distance = math.floor((localHumanoidRootPart.Position - v.Position).Magnitude)
                    v.TicketESP.TextLabel.Text = string.format("%s - %d M", v.Parent.Name, distance)
                end
            end
        else
            for _, v in pairs(game.Workspace.Game.Effects.Tickets:GetDescendants()) do
                if v:IsA("MeshPart") and v:FindFirstChild("TicketESP") then
                    v.TicketESP:Destroy()
                end
            end
        end
    end)
    end
 end)
    
Tabs.Main:AddParagraph({
        Title = "Player Modification",
        Content = " "
    })
    
local Toggle = Tabs.Main:AddToggle("Noclip", {Title = "Noclip", Default = false })

local NoClipx = false

local function Noclip()
            pcall(function()
                for i, v in pairs(game:GetService("Players").LocalPlayer.Character:GetDescendants()) do
                    if v:IsA("BasePart") then
                        v.CanCollide = false
                 end
            end
      end)
end

    Toggle:OnChanged(function(State)
NoClipx = State
repeat
if NoClipx then
   Noclip()
       wait(0.1)
        end
       until not NoClipx == true
    end)

Options.Noclip:SetValue(false)

local RunService = game:GetService("RunService")

local FLYING = false
local velocityHandlerName = "VelocityHandler"
local gyroHandlerName = "GyroHandler"
local mfly1, mfly2
local currentCharacter

local function getRoot(character)
    return character:FindFirstChild("HumanoidRootPart") or character:FindFirstChild("Torso")
end

local function unmobilefly(player)
    pcall(function()
        FLYING = false
        local character = player.Character
        if character then
            local root = getRoot(character)
            if root then
                local velocityHandler = root:FindFirstChild(velocityHandlerName)
                local gyroHandler = root:FindFirstChild(gyroHandlerName)

                if velocityHandler then
                    velocityHandler:Destroy()
                end

                if gyroHandler then
                    gyroHandler:Destroy()
                end

                local humanoid = character:FindFirstChildWhichIsA("Humanoid")
                if humanoid then
                    humanoid.PlatformStand = false
                end
            end
        end

        if mfly1 then
            mfly1:Disconnect()
        end

        if mfly2 then
            mfly2:Disconnect()
        end
    end)
end

local function mobilefly(player, vfly)
    unmobilefly(player)
    FLYING = true

    local character = player.Character
    local root = getRoot(character)

    if character and root then
        local camera = workspace.CurrentCamera
        local v3none = Vector3.new()
        local v3zero = Vector3.new(0, 0, 0)
        local v3inf = Vector3.new(9e9, 9e9, 9e9)

        local controlModule = require(player.PlayerScripts:WaitForChild("PlayerModule"):WaitForChild("ControlModule"))
        local bv = Instance.new("BodyVelocity")
        bv.Name = velocityHandlerName
        bv.Parent = root
        bv.MaxForce = v3zero
        bv.Velocity = v3zero

        local bg = Instance.new("BodyGyro")
        bg.Name = gyroHandlerName
        bg.Parent = root
        bg.MaxTorque = v3inf
        bg.P = 1000
        bg.D = 2

        mfly1 = player.CharacterAdded:Connect(function()
            unmobilefly(player)
            currentCharacter = player.Character
            mobilefly(player, vfly)
        end)

        mfly2 = RunService.RenderStepped:Connect(function()
            root = getRoot(player.Character)
            camera = workspace.CurrentCamera
            if player.Character:FindFirstChildWhichIsA("Humanoid") and root and root:FindFirstChild(velocityHandlerName) and root:FindFirstChild(gyroHandlerName) then
                local humanoid = player.Character:FindFirstChildWhichIsA("Humanoid")
                local VelocityHandler = root:FindFirstChild(velocityHandlerName)
                local GyroHandler = root:FindFirstChild(gyroHandlerName)

                if VelocityHandler and GyroHandler then
                    VelocityHandler.MaxForce = v3inf
                    GyroHandler.MaxTorque = v3inf

                    if not vfly and humanoid then
                        humanoid.PlatformStand = false
                    end

                    GyroHandler.CFrame = camera.CoordinateFrame
                    VelocityHandler.Velocity = v3none

                    local direction = controlModule:GetMoveVector()
                    if direction.X ~= 0 or direction.Z ~= 0 then
                        local moveVector = Vector3.new(direction.X, 0, direction.Z).unit
                        local rightVector = camera.CFrame.RightVector
                        local forwardVector = camera.CFrame.LookVector

                        local flyDirection = (rightVector * moveVector.X - forwardVector * moveVector.Z).unit

                        VelocityHandler.Velocity = flyDirection * (_G.flySpeed * 20)
                        RunService.RenderStepped:Wait()
                    end
                end
            end
        end)
    end
end

local function toggleFly(player, toggleValue)
    if toggleValue then
        mobilefly(player, true)
    else
        unmobilefly(player)
    end
end

-- Your loop structure
_G.loops = false

local function flyLoop()
    while wait(10) do
        if _G.loops then
            local player = game:GetService("Players").LocalPlayer
            if player and player.Character then
                mobilefly(player, true)
            end
        end
    end
end

local Toggle = Tabs.Main:AddToggle("FlyToggle", { Title = "Fly Toggle", Default = false })

Toggle:OnChanged(function()
    local player = game:GetService("Players").LocalPlayer
    _G.loops = Toggle.Value
    toggleFly(player, Toggle.Value)
end)

Options.FlyToggle:SetValue(false)

_G.flySpeed = 20  -- Default fly speed

local FlySpeedInput = Tabs.Main:AddInput("FlySpeedInput", {
    Title = "Fly Speed",
    Default = tostring(_G.flySpeed),
    Placeholder = "Enter fly speed",
    Numeric = true,
    Finished = false,
    Callback = function(Value)
        _G.flySpeed = tonumber(Value) or 20
        toggleFly(player, Toggle.Value)
    end
})

-- Start the loop
spawn(flyLoop)

 Tabs.Main:AddParagraph({
        Title = "Manual",
        Content = " "
    })
    
Tabs.Main:AddButton({
        Title = "Respawn Button",
        Description = "",
        Callback = function()
        game:GetService("ReplicatedStorage").Events.Player.ChangePlayerMode:FireServer(true)
        end
    })
    
Tabs.Main:AddButton({
        Title = "Open Leaderboard (PC Mode)",
        Description = "",
        Callback = function()
           game:GetService("VirtualInputManager"):SendKeyEvent(true, "Tab", false, game)
        end
    })
    
-- AutoFarm

Tabs.AutoFarm:AddParagraph({
        Title = "Auto Farm",
        Content = "Recommend: Enable Instant Revive"
    })
    
 local FarmMoney = false
local FarmTickets = false
local AFKFarm = false
local WorkspacePlayers = game:GetService("Workspace").Game.Players 

local GetDownedPlr = function()
    for i,v in pairs(WorkspacePlayers:GetChildren()) do
        if v:GetAttribute("Downed") then
            return v
        end
    end
end

local revive = function()
    local downedplr = GetDownedPlr()
    if downedplr ~= nil and downedplr:FindFirstChild('HumanoidRootPart') then
        task.spawn(function()
            while task.wait() do
                if game:GetService("Players").LocalPlayer.Character then
                    game:GetService("Players").LocalPlayer.Character:FindFirstChild('HumanoidRootPart').CFrame = CFrame.new(downedplr:FindFirstChild('HumanoidRootPart').Position.X, downedplr:FindFirstChild('HumanoidRootPart').Position.Y + 2, downedplr:FindFirstChild('HumanoidRootPart').Position.Z)
                    game:GetService("ReplicatedStorage").Events.Character.Interact:FireServer("Revive", true, tostring(downedplr))
                    game:GetService("ReplicatedStorage").Events.Character.Interact:FireServer("Revive", true, tostring(downedplr))
                    game:GetService("ReplicatedStorage").Events.Character.Interact:FireServer("Revive", true, tostring(downedplr))
                    break
                end
            end
        end)
    end
end

task.spawn(function()
    while task.wait() do
        if FarmMoney then
            if game:GetService("Players").LocalPlayer.Character and game:GetService("Players").LocalPlayer.Character:GetAttribute("State") == "Downed" then
                game:GetService("ReplicatedStorage").Events.Player.ChangePlayerMode:FireServer(true)
                task.wait(3)
            else
                revive()
                task.wait(1)
            end
        end
        if FarmMoney == false and AFKFarm and game:GetService("Players").LocalPlayer.Character:FindFirstChild('HumanoidRootPart') ~= nil then
            game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(5000, 5000, 5000)
        end
    end
end)

local Toggle = Tabs.AutoFarm:AddToggle("AutoFarmMoney", {Title = "Auto Farm Money", Default = false })

    Toggle:OnChanged(function(State)
    FarmMoney = State
    if FarmMoney then
            part = Instance.new("Part", workspace)
			part.Anchored = true
			part.CFrame = CFrame.new(5000, 4996, 5000)
		end
    end)

local Toggle = Tabs.AutoFarm:AddToggle("AutoFarmTickets", {Title = "Auto Farm Tickets", Default = false })

    Toggle:OnChanged(function(State)
    FarmTickets = State
     if FarmTickets then
            part = Instance.new("Part", workspace)
			part.Anchored = true
			part.CFrame = CFrame.new(5000, 4996, 5000)
		end
		
   spawn(function()
		while task.wait(0.5) and FarmTickets do
			if not FarmTickets then
				break
			end
			local char = game:GetService("Players").LocalPlayer.Character or game:GetService("Players").LocalPlayer.CharacterAdded:Wait()
			local tickets = workspace.Game.Effects.Tickets
			local hrp = char:WaitForChild("HumanoidRootPart", 3)
			if hrp == nil then
				return
			end
			game:GetService("ReplicatedStorage").Events.Other.TicketsEvent:FireServer(hrp.Position)
			hrp.CFrame = CFrame.new(5000, 5000, 5000)
			for i, v in next, tickets:GetDescendants() do
				if v.IsA(v, "BasePart") and v.Name == "HumanoidRootPart" then
					hrp.CFrame = CFrame.new(v.Position)
				end
			end
		end
    end)
 end)
    
local Toggle = Tabs.AutoFarm:AddToggle("AFKFarm", {Title = "AFK Farm", Default = false })

    Toggle:OnChanged(function(State)
      AFKFarm = State
    end)
    
 Tabs.AutoFarm:AddParagraph({
        Title = "Teleports",
        Content = ""
    })

function tptoobjective()
local hrp = game:GetService("Players").LocalPlayer.Character.HumanoidRootPart
	if workspace.Game.Map.Parts:FindFirstChild("Objectives") then
		for i, v in next, workspace.Game.Map.Parts.Objectives:GetChildren() do
			if v.IsA(v, "Model") then
				hrp.CFrame = CFrame.new(v:FindFirstChildWhichIsA("BasePart").Position)
			end
		end
	end
end

Tabs.AutoFarm:AddButton({
        Title = "Teleport to Objective",
        Description = "",
        Callback = function()
        tptoobjective()
        end
    })
    
 function GetEmotesName()
    local EmoteNames = {}
    local emotesFolder = game:GetService("ReplicatedStorage").Items.Emotes

    for _, thing in ipairs(emotesFolder:GetChildren()) do
        if thing:IsA("LocalScript") or thing:IsA("ModuleScript") then
            EmoteNames[#EmoteNames + 1] = thing.Name 
        end
        if _ % 50 == 0 then -- Yield every 50 iterations to prevent lag
            task.wait()
        end
    end

    return EmoteNames
end

-- Combat

Tabs.Combat:AddParagraph({
        Title = "Anti Nextbot",
        Content = " "
    })

local SelectTeleportation = "Spawn"
local AntiNextbotDistance = 15

function AntiNextbot()
    if game.Workspace:FindFirstChild("Game") and game.Workspace.Game:FindFirstChild("Players") and game.Players.LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
    
        local playerTeam = game.Workspace.Game.Players[game.Players.LocalPlayer.Name]:GetAttribute("Team")
        if playerTeam == "Nextbot" then
            return -- Exit the function if the player is on the "Nextbot" team
        end
    
        for i, v in pairs(game.Workspace.Game.Players:GetDescendants()) do
            if v:IsA("Model") and v:GetAttribute("Team") == "Nextbot" then
                local humanoidRootPart = v:FindFirstChild("HumanoidRootPart") or v:FindFirstChild("HRP")
                if humanoidRootPart then
                    local distance = (game.Players.LocalPlayer.Character.HumanoidRootPart.Position - humanoidRootPart.Position).Magnitude
                    
                    if distance < AntiNextbotDistance then
                        if SelectTeleportation == "Spawn" then
                            game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(Vector3.new(0, -50000, 0))                         
                        elseif SelectTeleportation == "Players" then
                            local randomPlayer = game.Players:GetPlayers()[math.random(1, #game.Players:GetPlayers())]
                           if randomPlayer then
                              game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(Vector3.new(randomPlayer.Character.Head.Position.X, randomPlayer.Character.Head.Position.Y, randomPlayer.Character.Head.Position.Z))
                            end
                        end
                    end
                end
            end
        end
    end
end

local AntiNextbotT = falae

local Toggle = Tabs.Combat:AddToggle("AntiNextbotToggle", {Title = "Anti Nextbot Toggle", Default = false })

    Toggle:OnChanged(function(Val)
    AntiNextbotT = Val
        
    while AntiNextbotT and wait(0.1) do
       AntiNextbot()
       end
    end)

local Dropdown = Tabs.Combat:AddDropdown("AntiBotTeleport", {
        Title = "Anti Nextbot Teleport Type",
        Values = {"Spawn", "Players"},
        Multi = false,
        Default = 1,
    })

    Dropdown:OnChanged(function(Value)
        SelectTeleportation = Value
    end)
    
 local Input = Tabs.Combat:AddInput("NextbotDistance", {
    Title = "Anti Nextbot Distance",
    Default = 15,
    Placeholder = "Number",
    Numeric = false, -- Only allows numbers
    Finished = false, -- Only calls callback when you press enter
    Callback = function(Value)
        -- Convert the input value to a number
        AntiNextbotDistance = tonumber(Value) or 15 
    end
})

if _G.IsPremiumUserCodeRTFGCFT == true then

Tabs.Combat:AddParagraph({
        Title = "Vehicles Modification",
        Content = "Serversided/Unfinished"
    })
    
local LocalPlayer = game.Players.LocalPlayer
local Workspace = game.Workspace

local ControlVehicleType = "High Mode"
local OrbitVehicles = false
local OrbitPlayer = false
local FlingNextbot = false
local FlingPlayer = false
local Target = ""
local radius = 15
local height = 110
local rotationSpeed = 10
local attractionStrength = 100

local function getNearestNextbot()
    local GamePlayers = workspace.Game.Players
    local LocalPlayer = game.Players.LocalPlayer
    local closestNextbot = nil
    local closestDistance = math.huge

    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        local playerPosition = LocalPlayer.Character.HumanoidRootPart.Position

        for _, v in pairs(GamePlayers:GetChildren()) do
            if not game.Players:FindFirstChild(v.Name) and v:FindFirstChild("HumanoidRootPart") then
                local nextbotPosition = v.HumanoidRootPart.Position
                local distance = (nextbotPosition - playerPosition).Magnitude

                if distance < closestDistance then
                    closestDistance = distance
                    closestNextbot = v
                end
            end
        end
    end

    return closestNextbot
end

function GetOtherPlayers()
    local players = {}
    local allPlayers = game.Players:GetPlayers()
    local localPlayer = game.Players.LocalPlayer

    for i = 1, #allPlayers do
        local player = allPlayers[i]
        if player ~= localPlayer then
           wait(0.2)
            table.insert(players, player.Name)
        end
    end

    return players
end

function getPlayer()
    local LocalPlayer = game.Players.LocalPlayer
    local closestPlayer = nil
    local closestDistance = math.huge

    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        local playerPosition = LocalPlayer.Character.HumanoidRootPart.Position

        for _, player in pairs(game.Players:GetPlayers()) do
            if player ~= LocalPlayer and player.Name == Target and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                local targetPosition = player.Character.HumanoidRootPart.Position
                local distance = (targetPosition - playerPosition).Magnitude

                if distance < closestDistance then
                    closestDistance = distance
                    closestPlayer = player
                end
            end
        end
    end

    return closestPlayer
end

function SetNetworkOwnership()
    settings().Physics.AllowSleep = false

    for _, player in pairs(game:GetService("Players"):GetPlayers()) do
        if player ~= game:GetService("Players").LocalPlayer then
            player.MaximumSimulationRadius = 0
            sethiddenproperty(player, "SimulationRadius", 0)
        end
    end

    local localPlayer = game:GetService("Players").LocalPlayer
    localPlayer.MaximumSimulationRadius = math.pow(math.huge, math.huge)
    sethiddenproperty(localPlayer, "SimulationRadius", math.huge)
end

function ControlVehiclesTornado(TargetPart)
    spawn(SetNetworkOwnership)
    local tornadoCenter = TargetPart.Character and TargetPart.Character:FindFirstChild("HumanoidRootPart") and TargetPart.Character.HumanoidRootPart.Position
    if tornadoCenter then
        if ControlVehicleType == "High Mode" or ControlVehicleType == "Low Mode" then
            for _, part in pairs(Workspace.Game.Vehicles:GetDescendants()) do
                if part:IsA("BasePart") and not part.Anchored and part:IsDescendantOf(Workspace) and (ControlVehicleType == "High Mode" or (ControlVehicleType == "Low Mode" and part.Name == "FloorPanel")) then
                    for _, child in pairs(part:GetChildren()) do
                        if child:IsA("BodyAngularVelocity") or child:IsA("BodyForce") or child:IsA("BodyGyro") or child:IsA("BodyPosition") or child:IsA("BodyThrust") or child:IsA("BodyVelocity") or child:IsA("RocketPropulsion") then
                            child:Destroy()
                        end
                    end
                    if part:FindFirstChild("Attachment") then part:FindFirstChild("Attachment"):Destroy() end
                    if part:FindFirstChild("AlignPosition") then part:FindFirstChild("AlignPosition"):Destroy() end
                    if part:FindFirstChild("Torque") then part:FindFirstChild("Torque"):Destroy() end
                    part.CanCollide = false
                    local pos = part.Position
                    local distance = (Vector3.new(pos.X, tornadoCenter.Y, pos.Z) - tornadoCenter).Magnitude
                    local angle = math.atan2(pos.Z - tornadoCenter.Z, pos.X - tornadoCenter.X)
                    local newAngle = angle + math.rad(rotationSpeed)
                    local targetPos = Vector3.new(
                        tornadoCenter.X + math.cos(newAngle) * math.min(radius, distance),
                        tornadoCenter.Y + (height * (math.abs(math.sin((pos.Y - tornadoCenter.Y) / height)))),
                        tornadoCenter.Z + math.sin(newAngle) * math.min(radius, distance)
                    )
                    local directionToTarget = (targetPos - part.Position).unit
                    part.Velocity = directionToTarget * attractionStrength
                    local Torque = Instance.new("Torque", part)
                    Torque.Torque = Vector3.new(100000, 100000, 100000)
                    local AlignPosition = Instance.new("AlignPosition", part)
                    AlignPosition.MaxForce = 9999999999999999
                    AlignPosition.MaxVelocity = math.huge
                    AlignPosition.Responsiveness = 200
                    local Attachment = Instance.new("Attachment", part)
                    Torque.Attachment0 = Attachment
                    AlignPosition.Attachment0 = Attachment
                end
            end
        end
    end
end

function ControlVehiclesNormal(targetPart)
    spawn(SetNetworkOwnership)
    if targetPart then
        if ControlVehicleType == "High Mode" or ControlVehicleType == "Low Mode" then
            for _, part in pairs(Workspace.Game.Vehicles:GetDescendants()) do
                if part:IsA("BasePart") and not part.Anchored and part:IsDescendantOf(Workspace) and (ControlVehicleType == "High Mode" or (ControlVehicleType == "Low Mode" and part.Name == "FloorPanel")) then
                    for _, child in pairs(part:GetChildren()) do
                        if child:IsA("BodyAngularVelocity") or child:IsA("BodyForce") or child:IsA("BodyGyro") or child:IsA("BodyPosition") or child:IsA("BodyThrust") or child:IsA("BodyVelocity") or child:IsA("RocketPropulsion") then
                            child:Destroy()
                        end
                    end
                    if part:FindFirstChild("Attachment") then part:FindFirstChild("Attachment"):Destroy() end
                    if part:FindFirstChild("AlignPosition") then part:FindFirstChild("AlignPosition"):Destroy() end
                    if part:FindFirstChild("Torque") then part:FindFirstChild("Torque"):Destroy() end
                    part.CanCollide = false
                    local targetPos = targetPart.HumanoidRootPart.Position
                    local directionToTarget = (targetPos - part.Position).unit
                    part.Velocity = directionToTarget * attractionStrength
                    local Torque = Instance.new("Torque", part)
                    Torque.Torque = Vector3.new(100000, 100000, 100000)
                    local AlignPosition = Instance.new("AlignPosition", part)
                    AlignPosition.MaxForce = 9999999999999999
                    AlignPosition.MaxVelocity = math.huge
                    AlignPosition.Responsiveness = 200
                    local Attachment = Instance.new("Attachment", part)
                    Torque.Attachment0 = Attachment
                    AlignPosition.Attachment0 = Attachment
                end
            end
        end
    end
end

local Toggle = Tabs.Combat:AddToggle("OrbitVehicle", {Title = "Orbit Vehicles", Default = false })

    Toggle:OnChanged(function(Value)
    OrbitVehicles = Value
    
while OrbitVehicles and wait(0.1) do
    local target = LocalPlayer
    ControlVehiclesTornado(target)
   end
end)

local Toggle = Tabs.Combat:AddToggle("FlingNextbot", {Title = "Fling Nextbot", Default = false })

    Toggle:OnChanged(function(Value)
    FlingNextbot = Value
    
while FlingNextbot and wait(0.1) do
     local target = getNearestNextbot()
     ControlVehiclesNormal(target)
   end
end)

local Toggle = Tabs.Combat:AddToggle("OrbitPlayer", {Title = "Orbit Vehicle to Player", Default = false })

    Toggle:OnChanged(function(Value)
    OrbitPlayer = Value
    
while OrbitPlayer and wait(0.1) do
       local target = getPlayer()
      ControlVehiclesTornado(target)
    end
end)

local PlayerDropdown = Tabs.Combat:AddDropdown("PlayerDropdown", {
        Title = "Select Player",
        Values = GetOtherPlayers(),
        Multi = false,
        Default = 1,
    })

    PlayerDropdown:OnChanged(function(Value)
        Target = Value
    end)
    
 Tabs.Combat:AddButton({
        Title = "Refresh Player Dropdown",
        Description = "",
        Callback = function()
            PlayerDropdown.Values = GetOtherPlayers()
            wait(0.2)
            PlayerDropdown:SetValue("")
        end
    })
    
 local Dropdown = Tabs.Combat:AddDropdown("VehicleTyoe", {
        Title = "Control Type",
        Values = {"High Mode", "Low Mode"},
        Multi = false,
        Default = 1,
    })

    Dropdown:OnChanged(function(Value)
        ControlVehicleType = Value
    end)

local Slider = Tabs.Combat:AddSlider("Radius", {
        Title = "Radius Slider",
        Description = " ",
        Default = 15,
        Min = 0,
        Max = 100,
        Rounding = 1,
        Callback = function(Value)
            radius = Value
        end
    })
    
local Slider = Tabs.Combat:AddSlider("OrbitSpeed", {
        Title = "Orbit Speed",
        Description = " ",
        Default = 10,
        Min = 0,
        Max = 25,
        Rounding = 1,
        Callback = function(Value)
            rotationSpeed = Value
        end
    })
    
end

-- Misc

Tabs.Misc:AddParagraph({
        Title = "Player Adjustment",
        Content = " "
    })
 
local CachesAdjusment = {}
local StrafeAcceleration = 184
local StrafeAcceleration2 = 184
local TFriction = 5
local TFriction2 = 5
local TJumpCap = 1
local TJumpCap2 = 1
local TSpeed = 1500
local TSpeed2 = 1500
local TJump = 3
local TJump2 = 3

local function cacheTables()
    local gcObjects = getgc(true)
    for i = 1, #gcObjects do
        local v = gcObjects[i]
        if type(v) == "table" and rawget(v, "SprintCap") and v.Speed and v.JumpHeight then
            table.insert(CachesAdjusment, v)
        end
    end
end

function setTSpeed(newSpeed)
    if TSpeed ~= newSpeed then
        TSpeed = newSpeed
        for _, v in ipairs(CachesAdjusment) do
            rawset(v, "Speed", TSpeed)
        end
    end
end

function setTJump(newJump)
    if TJump ~= newJump then
        TJump = newJump
        for _, v in ipairs(CachesAdjusment) do
            rawset(v, "JumpHeight", TJump)
        end
    end
end

function setTJumpCap(newJumpCap)
    if TJumpCap ~= newJumpCap then
        TJumpCap = newJumpCap
        for _, v in ipairs(CachesAdjusment) do
            rawset(v, "JumpCap", TJumpCap)
        end
    end
end

function setTFriction(newFriction)
    if TFriction ~= newFriction then
        TFriction = newFriction
        for _, v in ipairs(CachesAdjusment) do
            rawset(v, "Friction", newFriction)
        end
    end
end

function setStrafeAcceleration(newAcceleration)
    if StrafeAcceleration ~= newAcceleration then
        StrafeAcceleration = newAcceleration
        for _, v in ipairs(CachesAdjusment) do
            rawset(v, "AirStrafeAcceleration", StrafeAcceleration)
            rawset(v, "AirAcceleration", 3)
        end
    end
end

local Input = Tabs.Misc:AddInput("PlayerSpeed", {
        Title = "Player Speed",
        Default = "1500",
        Placeholder = "Speed Number",
        Numeric = false, -- Only allows numbers
        Finished = false, -- Only calls callback when you press enter
        Callback = function(Value)
            TSpeed2 = tonumber(Value) or 1500
        end
    })
    
local Input = Tabs.Misc:AddInput("PlayerJump", {
        Title = "Player Jump",
        Default = "3",
        Placeholder = "Jump Number",
        Numeric = false, -- Only allows numbers
        Finished = false, -- Only calls callback when you press enter
        Callback = function(Value)
            TJump2 = tonumber(Value) or 3
        end
    })
    
local Input = Tabs.Misc:AddInput("PlayerJumpCap", {
        Title = "Player Jump Cap",
        Default = "1",
        Placeholder = "Jump Cap Number",
        Numeric = false, -- Only allows numbers
        Finished = false, -- Only calls callback when you press enter
        Callback = function(Value)
            TJumpCap2 = tonumber(Value) or 1
        end
    })
    
local Input = Tabs.Misc:AddInput("PlayerStrafeAcceleration", {
        Title = "Player Strafe Acceleration",
        Default = "184",
        Placeholder = "Number",
        Numeric = false, -- Only allows numbers
        Finished = false, -- Only calls callback when you press enter
        Callback = function(Value)
            StrafeAcceleration2 = tonumber(Value) or 184
        end
    })
    
local Input = Tabs.Misc:AddInput("PlayerFOV", {
        Title = "Player FOV",
        Default = "1",
        Placeholder = "Number",
        Numeric = false, -- Only allows numbers
        Finished = false, -- Only calls callback when you press enter
        Callback = function(Value)
            game:GetService("Players").LocalPlayer.PlayerScripts.Camera.FOVAdjusters.Zoom.Value = Value
        end
    })

Tabs.Misc:AddParagraph({
        Title = " ",
        Content = ""
    })
    
local UseOriginalJump = false
local OriginalJumpPower = 20

local Toggle = Tabs.Misc:AddToggle("PlayerJumpPower", {Title = "Jump Power Toggle", Default = false })

    Toggle:OnChanged(function(State)
        UseOriginalJump = State
     
  while UseOriginalJump and wait(0.1) do
  spawn(function()
    local player = game.Players.LocalPlayer
    local humanoid = player.Character:FindFirstChild("Humanoid")
   if not  UseOriginalJump and humanoid then
       humanoid.UseJumpPower = false
       humanoid.JumpPower = 20
     end
     
    if player.Character and humanoid then
          humanoid.UseJumpPower = true
          humanoid.JumpPower = OriginalJumpPower
        end
    end)
end
end)

local Input = Tabs.Misc:AddInput("PlayerJumpPower", {
        Title = "Player Jump Power",
        Default = "20",
        Placeholder = "Jump Number",
        Numeric = false, -- Only allows numbers
        Finished = false, -- Only calls callback when you press enter
        Callback = function(Value)
            OriginalJumpPower = tonumber(Value) or 20
        end
    })
    
local CFRAMEWalk = false
local moveDistance = 5

local Toggle = Tabs.Misc:AddToggle("PlayerWalkspeed", {Title = "Walkspeed Toggle", Default = false })

    Toggle:OnChanged(function(State)
        CFRAMEWalk = State
 
 while CFRAMEWalk and wait(0.01) do
local RunService = game:GetService("RunService")
local hb = RunService.Heartbeat
local speaker = game.Players.LocalPlayer
local chr = speaker.Character
local hum = chr and chr:FindFirstChildWhichIsA("Humanoid")
local delta = hb:Wait()

     if chr and hum.MoveDirection.Magnitude > 0 then
             chr:TranslateBy(hum.MoveDirection * moveDistance * delta * 10)
           end
        end
    end)

local Input = Tabs.Misc:AddInput("PlayerWalkCf", {
        Title = "Player Walkspeed",
        Default = "5",
        Placeholder = "Walk Number",
        Numeric = false, -- Only allows numbers
        Finished = false, -- Only calls callback when you press enter
        Callback = function(Value)
            moveDistance = tonumber(Value) or 5
        end
    })

Tabs.Misc:AddParagraph({
        Title = " ",
        Content = ""
    })

local BounceToggle = false
local GetSpeedometer
local AdjustedBounce = 80
local AdjustedBounce2 = 120

local Toggle = Tabs.Misc:AddToggle("AdjustBounce", {Title = "Modify Bounce", Default = false })

    Toggle:OnChanged(function(State)
        BounceToggle = State
     
  while BounceToggle and wait(0.1) do
  spawn(function()
    GetSpeedometer = game:GetService("Players").LocalPlayer.PlayerGui.Shared.HUD.Overlay.Default.CharacterInfo.Item.Speedometer.Players.Text
    local player = game.Players.LocalPlayer
    local humanoid = player.Character:FindFirstChild("Humanoid")
   if not  BounceToggle and humanoid then
       humanoid.WalkSpeed = 0
     end
     
    if player.Character and humanoid then
          humanoid.WalkSpeed = AdjustedBounce
        if player.Character:GetAttribute("State") == "Default" or player.Character:GetAttribute("State") == "Downed" or not BounceToggle then
          humanoid.WalkSpeed = 0
            end
            
        if player.Character:GetAttribute("State") == "Emoting" or player.Character:GetAttribute("State") == "EmotingAir" or player.Character:GetAttribute("State") == "EmoteSlide" or player.Character:GetAttribute("State") == "EmoteSlideAir" then
            humanoid.WalkSpeed = AdjustedBounce2 + GetSpeedometer
        elseif GetSpeedometer == 15 or player.Character:GetAttribute("State") == "Default" then -- anti stunning bug
          humanoid.WalkSpeed = 0
        else
           humanoid.WalkSpeed = AdjustedBounce + GetSpeedometer
           end
        end
    end)
end
    end)

local Input = Tabs.Misc:AddInput("PlayerBounce", {
        Title = "Player Bounce",
        Default = "80",
        Placeholder = "Bounce Number",
        Numeric = false, -- Only allows numbers
        Finished = false, -- Only calls callback when you press enter
        Callback = function(Value)
            AdjustedBounce = tonumber(Value) or 80
        end
    })
    
local Input = Tabs.Misc:AddInput("EmoteBounce", {
        Title = "Emote Bounce",
        Default = "120",
        Placeholder = "Bounce Number",
        Numeric = false, -- Only allows numbers
        Finished = false, -- Only calls callback when you press enter
        Callback = function(Value)
            AdjustedBounce2 = tonumber(Value) or 120
        end
    })
    
Tabs.Misc:AddParagraph({
        Title = "Game Automations",
        Content = " "
    })
    
local WorkspacePlayers = game:GetService("Workspace").Game.Players

local function getNearestDownedPlayer()
    local nearestPlayer = nil
    local nearestDistance = 1000
    
    local localPlayer = game.Players.LocalPlayer
    local localPlayerPosition = localPlayer.Character and localPlayer.Character:FindFirstChild("HumanoidRootPart") and localPlayer.Character.HumanoidRootPart.Position

    for _, player in pairs(WorkspacePlayers:GetChildren()) do
        if player:GetAttribute("Downed") and player:FindFirstChild("HumanoidRootPart") then
            local distance = (localPlayerPosition - player.HumanoidRootPart.Position).Magnitude

            if distance < nearestDistance then
                nearestDistance = distance
                nearestPlayer = player
            end
        end
    end

    return nearestPlayer
end

local InstantReviveWhileEmote = false

function InstantRevive()
local player = game.Players.LocalPlayer
local nearestPlayer = getNearestDownedPlayer()
      if nearestPlayer then
         game:GetService("ReplicatedStorage").Events.Character.Interact:FireServer("Revive", nil, tostring(nearestPlayer))
         game:GetService("ReplicatedStorage").Events.Character.Interact:FireServer("Revive", false, tostring(nearestPlayer))
         game:GetService("ReplicatedStorage").Events.Character.Interact:FireServer("Revive", true, tostring(nearestPlayer))
         game:GetService("ReplicatedStorage").Events.Character.Interact:FireServer("Revive", true, tostring(nearestPlayer))
         game:GetService("ReplicatedStorage").Events.Character.Interact:FireServer("Revive", true, tostring(nearestPlayer))
         game:GetService("ReplicatedStorage").Events.Character.Interact:FireServer("Revive", true, tostring(nearestPlayer))
         game:GetService("ReplicatedStorage").Events.Character.Interact:FireServer("Revive", true, tostring(nearestPlayer))
      end
end

function InstantReviveNoEmote()
local player = game.Players.LocalPlayer
local nearestPlayer = getNearestDownedPlayer()
      if nearestPlayer then
          if player.Character:GetAttribute("State") == "Run" or player.Character:GetAttribute("State") == "Air" or player.Character:GetAttribute("State") == "Slide" or player.Character:GetAttribute("State") == "Fall" or player.Character:GetAttribute("State") == "Jump" or player.Character:GetAttribute("State") == "Crouch" then
         game:GetService("ReplicatedStorage").Events.Character.Interact:FireServer("Revive", nil, tostring(nearestPlayer))
         game:GetService("ReplicatedStorage").Events.Character.Interact:FireServer("Revive", false, tostring(nearestPlayer))
         game:GetService("ReplicatedStorage").Events.Character.Interact:FireServer("Revive", true, tostring(nearestPlayer))
         game:GetService("ReplicatedStorage").Events.Character.Interact:FireServer("Revive", true, tostring(nearestPlayer))
         game:GetService("ReplicatedStorage").Events.Character.Interact:FireServer("Revive", true, tostring(nearestPlayer))
         game:GetService("ReplicatedStorage").Events.Character.Interact:FireServer("Revive", true, tostring(nearestPlayer))
         game:GetService("ReplicatedStorage").Events.Character.Interact:FireServer("Revive", true, tostring(nearestPlayer))
          end
      end
end

function CarryPlayer()
local player = game.Players.LocalPlayer
local nearestPlayer = getNearestDownedPlayer()
      if nearestPlayer then
         game:GetService("ReplicatedStorage").Events.Character.Interact:FireServer("Carry", nil, tostring(nearestPlayer))
         game:GetService("ReplicatedStorage").Events.Character.Interact:FireServer("Carry", false, tostring(nearestPlayer))
         game:GetService("ReplicatedStorage").Events.Character.Interact:FireServer("Carry", true, tostring(nearestPlayer))
         game:GetService("ReplicatedStorage").Events.Character.Interact:FireServer("Carry", true, tostring(nearestPlayer))
         game:GetService("ReplicatedStorage").Events.Character.Interact:FireServer("Carry", true, tostring(nearestPlayer))
         game:GetService("ReplicatedStorage").Events.Character.Interact:FireServer("Carry", true, tostring(nearestPlayer))
         game:GetService("ReplicatedStorage").Events.Character.Interact:FireServer("Carry", true, tostring(nearestPlayer))
      end
end

local AutoRevive = false
local AutoCarry = false
local DelayRevive = 0.1
local DelayCarry = 0.1

local Toggle = Tabs.Misc:AddToggle("InsRev", {Title = "Instant Revive", Default = false})

Toggle:OnChanged(function(State)
    AutoRevive = State
  while AutoRevive and wait(DelayRevive) do
     if InstantReviveWhileEmote then
       spawn(InstantRevive)
   else
      spawn(InstantReviveNoEmote)
       end
    end
end)

local Toggle = Tabs.Misc:AddToggle("InsQua", {Title = "Instant Revive While Emote", Default = false})

Toggle:OnChanged(function(State)
    InstantReviveWhileEmote = State
end)

local Slider = Tabs.Misc:AddSlider("ReviveDelay", {
        Title = "Revive Delay",
        Description = "",
        Default = 0.1,
        Min = 0,
        Max = 5,
        Rounding = 1,
        Callback = function(v)
            DelayRevive = v
        end
    })
    
Tabs.Misc:AddParagraph({
        Title = " ",
        Content = ""
    })
    
    
local Toggle = Tabs.Misc:AddToggle("AutoCarry", {Title = "Auto Carry", Default = false})

Toggle:OnChanged(function(State)
    AutoCarry = State
  while AutoCarry and wait(DelayCarry) do
       spawn(CarryPlayer)
    end
end)

local Slider = Tabs.Misc:AddSlider("CarryDelay", {
        Title = "Carry Delay",
        Description = "",
        Default = 0.1,
        Min = 0,
        Max = 5,
        Rounding = 1,
        Callback = function(v)
            DelayRevive = v
        end
    })
    
 Tabs.Misc:AddParagraph({
        Title = " ",
        Content = ""
    })

function BreakTheDoor()
local args = {
    [1] = math.random(1, 100)
}

game:GetService("ReplicatedStorage").Events.Map.BreakDoor:FireServer(unpack(args))
end

function OpenDoor()
local args = {
    [1] = math.random(1, 100)
}

game:GetService("ReplicatedStorage").Events.Map.BreakDoor:FireServer(unpack(args))
end

local AutoInteractDoor = false

local Toggle = Tabs.Misc:AddToggle("AutoRev", {Title = "Auto Interaction Door", Default = false})

Toggle:OnChanged(function(State)
    AutoInteractDoor = State
    
 while AutoInteractDoor and wait(.1) do
       BreakTheDoor()
       OpenDoor()
    end
end)

function DrinkCola()
local ohNumber1 = 0
local ohNumber2 = 13

game:GetService("ReplicatedStorage").Events.Character.ToolAction:FireServer(ohNumber1, ohNumber2)
end

local AutoDrinkCola = false

local Toggle = Tabs.Misc:AddToggle("AutoRev", {Title = "Auto Drink Cola", Default = false})

Toggle:OnChanged(function(State)
    AutoDrinkCola = State
    
 while AutoDrinkCola and wait() do
       DrinkCola()
    end
end)

Tabs.Misc:AddParagraph({
        Title = " ",
        Content = ""
    })
    
local MacroEmote = false
local EmoteID = "BoldMarch"

function LoadButtonCrouch()
    local ButtonCrouch = game:GetService("Players").LocalPlayer.PlayerGui.Shared.HUD.Mobile.Right.Mobile.CrouchButton
    local isHolding = false
    local holdStartTime = 0
    local holdDurationThreshold = 0.3
    
    ButtonCrouch.MouseButton1Down:Connect(function()
        isHolding = true
        holdStartTime = tick()
    end)
    
    ButtonCrouch.MouseButton1Up:Connect(function()
        isHolding = false
        local holdDuration = tick() - holdStartTime
        if holdDuration >= holdDurationThreshold then
            
            if MacroEmote then
                 game:GetService("ReplicatedStorage").Events.Character.Emote:FireServer(EmoteID)
             end
         end
    end)
end

local Dropdown = Tabs.Misc:AddDropdown("EmoteID", {
        Title = "Select Emote ID",
        Values = GetEmotesName(),
        Multi = false,
        Default = 1,
    })

    Dropdown:OnChanged(function(Value)
        EmoteID = Value
    end)

local Toggle = Tabs.Misc:AddToggle("AutoEmote", {Title = "Auto Emote Dash (Crouch Button)", Default = false})

Toggle:OnChanged(function(State)
    MacroEmote = State
    
  if MacroButton then
     LoadButtonCrouch()
   end
end)

game:GetService("Players").LocalPlayer.PlayerGui.ChildAdded:Connect(function(child)
    if child.Name == "Shared" then
        LoadButtonCrouch()
    end
end)

if _G.IsPremiumUserCodeRTFGCFT == true then

local CustomEmoteSelected = ""

function clearanims()
    for _, track in ipairs(game.Players.LocalPlayer.Character.Humanoid.Animator:GetPlayingAnimationTracks()) do
        track:Stop()
    end
end

local AnimationID
local emoteAnimation = Instance.new("Animation")
local emoteTrack

function UpdateEmoteAnimation()
    local character = game:GetService("Players").LocalPlayer.Character or game:GetService("Players").LocalPlayer.CharacterAdded:Wait()
    if not character then return end

    local humanoid = character:FindFirstChildOfClass("Humanoid")
    if not humanoid then 
          emoteTrack = nil
          AnimationID = nil
       return 
   end

    local Animator = humanoid:FindFirstChildOfClass("Animator")
    if not Animator then return end
    
    local EmoteFolder = game.ReplicatedStorage.Items.Emotes

    if Animator and EmoteFolder then
        local CurrentEmote = EmoteFolder:FindFirstChild(CustomEmoteSelected)
        local rigType = character:GetAttribute("RigType")
        local state = character:GetAttribute("State")

        if not CurrentEmote then
           CurrentEmote = nil 
           return 
        end

        if rigType == "R15" then
            AnimationID = CurrentEmote:FindFirstChild("Animation") and CurrentEmote.Animation.AnimationId
        elseif rigType == "R6" then
            AnimationID = CurrentEmote:FindFirstChild("AnimationClassic") and CurrentEmote.AnimationClassic.AnimationId
        end

        if not AnimationID then return end

        if not emoteTrack or emoteTrack.Animation.AnimationId ~= AnimationID then
            emoteAnimation.AnimationId = AnimationID
            emoteTrack = Animator:LoadAnimation(emoteAnimation)
        end

        if (state == "Emoting" or state == "EmotingSlide") and not emoteTrack.IsPlaying then
            clearanims()
            task.wait(0.05)
            emoteTrack:Play()
        end

        if state == "Run" or state == "Air" or state == "Crouch" or state == "Slide" then
            if emoteTrack and emoteTrack.IsPlaying then
                emoteTrack:Stop()
            end
        end
    end
end

function ForceEmoteAnimation()
    local character = game:GetService("Players").LocalPlayer.Character or game:GetService("Players").LocalPlayer.CharacterAdded:Wait()
    if not character then return end

    local humanoid = character:FindFirstChildOfClass("Humanoid")
    if not humanoid then emoteTrack = nil AnimationID = nil return end

    local Animator = humanoid:FindFirstChildOfClass("Animator")
    if not Animator then return end
    
    local EmoteFolder = game.ReplicatedStorage.Items.Emotes

    if Animator and EmoteFolder then
        local CurrentEmote = EmoteFolder:FindFirstChild(CustomEmoteSelected)
        local rigType = character:GetAttribute("RigType")
        local state = character:GetAttribute("State")

        if not CurrentEmote then CurrentEmote = nil return end

        if rigType == "R15" then
            AnimationID = CurrentEmote:FindFirstChild("Animation") and CurrentEmote.Animation.AnimationId
        elseif rigType == "R6" then
            AnimationID = CurrentEmote:FindFirstChild("AnimationClassic") and CurrentEmote.AnimationClassic.AnimationId
        end

        if not AnimationID then return end

        if not emoteTrack or emoteTrack.Animation.AnimationId ~= AnimationID then
            emoteAnimation.AnimationId = AnimationID
            emoteTrack = Animator:LoadAnimation(emoteAnimation)
        end

        if (state == "Run" or state == "Air" or state == "Crouch" or state == "Slide") and not emoteTrack.IsPlaying then
            clearanims()
            task.wait(0.05)
            emoteTrack:Play()
        end
    end
end

local CustomEmote = false
local ForceEmote = false

Tabs.Misc:AddParagraph({
    Title = "Custom Emote Animation",
    Content = "Serversided"
})

local Toggle = Tabs.Misc:AddToggle("CustomEmote", {Title = "Change Emote Animation", Default = false})

Toggle:OnChanged(function(State)
    CustomEmote = State
    
while CustomEmote and wait(0.1) do
      UpdateEmoteAnimation()
     end
end)

local Toggle = Tabs.Misc:AddToggle("ForceEmote", {Title = "Force Emote Animation", Default = false})

Toggle:OnChanged(function(State)
    ForceEmote = State
    
    while ForceEmote and wait(0.1) do
      ForceEmoteAnimation()
     end
end)

local Dropdown = Tabs.Misc:AddDropdown("CustomEmoteSelected", {
    Title = "Select Custom Emote",
    Values = GetEmotesName(),
    Multi = false,
    Default = 1,
})

Dropdown:OnChanged(function(Value)
    CustomEmoteSelected = Value
end)

Tabs.Misc:AddParagraph({
    Title = "Custom Sound (Client)",
    Content = ""
})

local CurrentSoundID = ""
local AutoSound = false

function ChangeSound(soundID)
    local character = game.Players.LocalPlayer.Character
    if not character then return end

    local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")
    if not humanoidRootPart then return end

    local emoteSound = humanoidRootPart:FindFirstChild("EmoteSound")
    if not emoteSound or not emoteSound:IsA("Sound") then return end

    emoteSound.SoundId = "rbxassetid://" .. soundID
end

local Toggle = Tabs.Misc:AddToggle("EmoteSound", {Title = "Change Emote Sound", Default = false})

Toggle:OnChanged(function(State)
    AutoSound = State

    task.spawn(function()
        while AutoSound do
            ChangeSound(CurrentSoundID)
            task.wait(0.1)
        end
    end)
end)

local Input = Tabs.Misc:AddInput("SoundID", {
    Title = "Emote Sound ID",
    Default = "123456789",
    Placeholder = "Emote Sound ID",
    Numeric = false,
    Finished = false,
    Callback = function(Value)
        CurrentSoundID = Value
    end
})

end

Tabs.Misc:AddParagraph({
        Title = "Movement Modification",
        Content = " "
    })
    
local FakeEmoteDash = false
local FakeInfSlide = false
local SelectedEmoteSpeed = 2000
local TFriction3 = -2

local Toggle = Tabs.Misc:AddToggle("SprintEmoteDash", {Title = "Sprint Emote Dash", Default = false })

    Toggle:OnChanged(function(State)
        FakeEmoteDash = State

if FakeEmoteDash == false then
  setTSpeed(TSpeed2)
end

while FakeEmoteDash and wait(0.1) do
local char = game:GetService("Players").LocalPlayer.Character or game:GetService("Players").LocalPlayer.CharacterAdded:Wait()
    if char and char:GetAttribute("State") == "Emoting" or char:GetAttribute("State") == "EmotingAir" or char:GetAttribute("State") == "EmotingSlide" or char:GetAttribute("State") == "EmotingSlideAir" then
          wait(1)
      setTSpeed(SelectedEmoteSpeed)
  else
      setTSpeed(TSpeed2)
         end
     end
end)

local Toggle = Tabs.Misc:AddToggle("SprintSlide", {Title = "Sprint Slide", Default = false })

    Toggle:OnChanged(function(State)
        FakeInfSlide = State

    if not FakeInfSlide then
        setTFriction(TFriction2)
    end

    while FakeInfSlide and wait(0.03) do
        local char = game:GetService("Players").LocalPlayer.Character or game:GetService("Players").LocalPlayer.CharacterAdded:Wait()
        if char and char:GetAttribute("State") == "Slide" or char:GetAttribute("State") == "EmotingSlide" then
            wait(0.2)
            setTFriction(TFriction3)
        else
            setTFriction(TFriction2)
        end
    end
end)

  local Input = Tabs.Misc:AddInput("EmoteSpeed", {
        Title = "Emote Speed",
        Default = "2000",
        Placeholder = "Emote Speed Number",
        Numeric = false, -- Only allows numbers
        Finished = false, -- Only calls callback when you press enter
        Callback = function(Value)
            SelectedEmoteSpeed = tonumber(Value) or 2000
        end
    })
    
local Input = Tabs.Misc:AddInput("CrouchSpeed", {
        Title = "Slide Speed (Minus Only)",
        Default = "-2",
        Placeholder = "Crouch Speed Number",
        Numeric = false, -- Only allows numbers
        Finished = false, -- Only calls callback when you press enter
        Callback = function(Value)
            TFriction3 = tonumber(Value) or -2
        end
    })

 Tabs.Misc:AddParagraph({
        Title = " ",
        Content = ""
    })
    
 local LagDelay = 0.1
    
 local CAS = game:GetService("ContextActionService")
local UserInputService = game:GetService("UserInputService")
 
 function CreateBindableButton()
    local function Action(actionName, inputState)
      if inputState == Enum.UserInputState.Begin then
          setfflag("TaskSchedulerTargetFps", "2")
          setfflag("TaskSchedulerTargetFps", "5")
      wait(LagDelay)
          setfflag("TaskSchedulerTargetFps", "900")
        end
    end

    CAS:BindAction("ButtonTarget", Action, true, Enum.KeyCode.E)

    local button1 = CAS:GetButton("ButtonTarget")
    if button1 then 
        CAS:SetPosition("ButtonTarget", UDim2.new(0, 0, 0.5, 0))
        CAS:SetTitle("ButtonTarget", "Start Lag")
        CAS:SetImage("ButtonTarget", "IMAGEHERE")  -- Replace "IMAGEHERE" with the actual image ID
        button1.Size = UDim2.new(0.3, 0, 0.3, 0) -- Set size if button exists
    end
    
    MakeDraggable(button1, button1)
end

function RemoveBindableButton()
    CAS:UnbindAction("ButtonTarget")
end

local Toggle = Tabs.Misc:AddToggle("LagSwitch", {Title = "Lag Switch Toggle", Default = false})

Toggle:OnChanged(function(State)
    if State then
        CreateBindableButton() -- Create buttons when toggled on
    else
        RemoveBindableButton() -- Remove buttons when toggled off
    end
end)

local Slider = Tabs.Misc:AddSlider("LagDelay", {
        Title = "Lag Delay",
        Description = "",
        Default = 0.1,
        Min = 0.01,
        Max = 5,
        Rounding = 2,
        Callback = function(v)
            LagDelay = v
        end
    })
    
 Tabs.Misc:AddParagraph({
        Title = " ",
        Content = ""
    })
    
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local UserInputService = game:GetService("UserInputService")
    
local GravityGuiSize = 100
local NormalGravity = game.Workspace.Gravity
local GravityAdjustment = 10

local GravityGui = false
local GravityToggle = false

local function creategravitytoggle()
    local screenGui = Instance.new("ScreenGui")
    screenGui.Parent = game.CoreGui
    screenGui.Name = "GravityToggle"
    screenGui.ResetOnSpawn = false

    local frame = Instance.new("Frame")
    frame.Size = UDim2.new(0, GravityGuiSize, 0, GravityGuiSize)
    frame.Position = UDim2.new(1, -120, 0.5, -50)
    frame.BackgroundColor3 = Color3.new(1, 1, 1)
    frame.BorderSizePixel = 2
    frame.BorderColor3 = Color3.new(0, 0, 0)
    frame.BackgroundTransparency = 0
    frame.Parent = screenGui
    frame.Active = true
    frame.Draggable = true
    frame.ClipsDescendants = true
    
    local uiCorner = Instance.new("UICorner")
    uiCorner.CornerRadius = UDim.new(1, 0)
    uiCorner.Parent = frame

    local toggleButton = Instance.new("TextButton")
    toggleButton.Size = UDim2.new(1, 0, 1, 0)
    toggleButton.BackgroundColor3 = Color3.new(1, 1, 1)
    toggleButton.BorderSizePixel = 0
    toggleButton.TextColor3 = Color3.new(0, 0, 0)
    toggleButton.Font = Enum.Font.GothamBold
    toggleButton.TextSize = 14
    toggleButton.Text = "Gravity: ON"
    toggleButton.Parent = frame
    
    toggleButton.MouseButton1Click:Connect(function()
        GravityToggle = not GravityToggle
        toggleButton.Text = GravityToggle and "Gravity: OFF" or "Gravity: ON"
    end)
    
    MakeDraggable(toggleButton, frame)
end

spawn(function()
while true and wait(0.1) do
    if GravityToggle then
          game.Workspace.Gravity = GravityAdjustment
      else
          game.Workspace.Gravity = NormalGravity
       end
    end
end)

function destroygravitytoggle()
local target = game.CoreGui

if target:FindFirstChild("GravityToggle") then
target.GravityToggle:Destroy()
end
end

local Toggle = Tabs.Misc:AddToggle("GravityToggle", {Title = "Gravity Toggle", Default = false })

    Toggle:OnChanged(function(State)
 GravityGui = State
if GravityGui then
creategravitytoggle()
else
destroygravitytoggle()
end
end)

local Input = Tabs.Misc:AddInput("GravityAdjust", {
        Title = "Gravity Adjustment",
        Default = "10",
        Placeholder = " Number",
        Numeric = false, -- Only allows numbers
        Finished = false, -- Only calls callback when you press enter
        Callback = function(Value)
            GravityAdjustment = tonumber(Value) or  10
        end
    })
    
Tabs.Misc:AddParagraph({
        Title = " ",
        Content = ""
    })

local Keybind = Tabs.Misc:AddKeybind("KeyBHOP", {
        Title = "Keybind to BHOP",
        Mode = "Toggle", -- Always, Toggle, Hold
        Default = "B",
        
        Callback = function(Bool)
        BHopKey = Bool
          spawn(function()
            while true and wait(0.1) do
                if BHopKey then 
                 setfflag("MaxAltitudePDStickHipHeightPercent", "-24")
             else
                 setfflag("MaxAltitudePDStickHipHeightPercent", "10")
                end
           end
       end)
   end,

        ChangedCallback = function(New)
            print("Keybind changed!", New)
        end
    })
    
local BHop = false
local BHOPGuiSize = 75
local BHOPAdjustNum = "-24"
local delay = 1

local BHop2 = false

local function createtoggle()
    local screenGui = Instance.new("ScreenGui")
    screenGui.Parent = game.CoreGui
    screenGui.Name = "BHopToggle"
    screenGui.ResetOnSpawn = false

    local frame = Instance.new("Frame")
    frame.Size = UDim2.new(0, BHOPGuiSize, 0, BHOPGuiSize)
    frame.Position = UDim2.new(1, -120, 0.5, -50)
    frame.BackgroundColor3 = Color3.new(1, 1, 1)
    frame.BorderSizePixel = 2
    frame.BorderColor3 = Color3.new(0, 0, 0)
    frame.BackgroundTransparency = 0
    frame.Parent = screenGui
    frame.Active = true
    frame.Draggable = true
    frame.ClipsDescendants = true
    
    local uiCorner = Instance.new("UICorner")
    uiCorner.CornerRadius = UDim.new(1, 0)
    uiCorner.Parent = frame

    local toggleButton = Instance.new("TextButton")
    toggleButton.Size = UDim2.new(1, 0, 1, 0)
    toggleButton.BackgroundColor3 = Color3.new(1, 1, 1)
    toggleButton.BorderSizePixel = 0
    toggleButton.TextColor3 = Color3.new(0, 0, 0)
    toggleButton.Font = Enum.Font.GothamBold
    toggleButton.TextSize = 14
    toggleButton.Text = "Auto Jump: OFF"
    toggleButton.Parent = frame
    
    toggleButton.MouseButton1Click:Connect(function()
        BHop2 = not BHop2
        toggleButton.Text = BHop2 and "Auto Jump: ON" or "Auto Jump: OFF"
    end)
    
    MakeDraggable(toggleButton, frame)
end

-- Auto-Jump
spawn(function()
while true and wait(0.1) do
    if BHop2 and BHOPType == "Acceleration" then
         setfflag("MaxAltitudePDStickHipHeightPercent", BHOPAdjustNum)
      else
         setfflag("MaxAltitudePDStickHipHeightPercent", "10")
    end
       
       if BHop2 and BHOPType == "No-Acceleration" then
          local humanoid = game.Players.LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
          if humanoid and humanoid.FloorMaterial ~= Enum.Material.Air then
                humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
             end
         end
     end
end)

local Players = game:GetService("Players")

local function onPlayerRemoving()
setfflag("MaxAltitudePDStickHipHeightPercent", "10")
end

Players.PlayerRemoving:Connect(onPlayerRemoving)

function destroytoggle()
local target = game.CoreGui

if target:FindFirstChild("BHopToggle") then
target.BHopToggle:Destroy()
end
end

local Toggle = Tabs.Misc:AddToggle("BHOPToggle", {Title = "BHOP Toggle", Default = false })

    Toggle:OnChanged(function(State)
 BHop = State
if BHop then
createtoggle()
else
destroytoggle()
end
end)

local Dropdown = Tabs.Misc:AddDropdown("BHOPType", {
        Title = "Select BHOP Type",
        Values = {"Acceleration", "No-Acceleration"},
        Multi = false,
        Default = 1,
    })

    Dropdown:OnChanged(function(Value)
        BHOPType = Value
    end)

local Input = Tabs.Misc:AddInput("GuiSize", {
        Title = "BHOP Gui Size",
        Default = "75",
        Placeholder = "Size Number",
        Numeric = false, -- Only allows numbers
        Finished = false, -- Only calls callback when you press enter
        Callback = function(Value)
            BHOPGuiSize = tonumber(Value) or 75
        end
    })
    
local Input = Tabs.Misc:AddInput("BhopAdjust", {
        Title = "BHOP Adjustment (Minus Only)",
        Default = "-24",
        Placeholder = "Minus Number",
        Numeric = false, -- Only allows numbers
        Finished = false, -- Only calls callback when you press enter
        Callback = function(Value)
            BHOPAdjustNum = tostring(Value) or  "-24"
        end
    })

 Tabs.Misc:AddParagraph({
        Title = "Game Visual Modification and Optimization",
        Content = " "
    })
    
local Lighting = game:GetService("Lighting")
local normalambient = Lighting.Ambient
local normalcolorshift = Lighting.ColorShift_Bottom
local normalcolorshift2 = Lighting.ColorShift_Top
local normalfog1 = Lighting.FogEnd
local normalfog2 = Lighting.FogStart
local normalGlobalshadow = Lighting.GlobalShadows
local normalclock = Lighting.ClockTime
local normalbrightness = Lighting.Brightness

function fb()
            Lighting.Ambient = Color3.new(1, 1, 1)
            Lighting.ColorShift_Bottom = Color3.new(1, 1, 1)
            Lighting.ColorShift_Top = Color3.new(1, 1, 1)
            Lighting.FogEnd = 100000
            Lighting.FogStart = 0
            Lighting.GlobalShadows = false
            Lighting.ClockTime = 14
            Lighting.Brightness = 2
end

function nofb()
            Lighting.Ambient = normalambient
            Lighting.ColorShift_Bottom = normalcolorshift
            Lighting.ColorShift_Top = normalcolorshift2
            Lighting.FogEnd = normalfog1
            Lighting.FogStart = normalfog2
            Lighting.GlobalShadows = normalGlobalshadow
            Lighting.ClockTime = normalclock
            Lighting.Brightness = normalbrightness
end

local Fullbrighting = false
 
 local Toggle = Tabs.Misc:AddToggle("FullBright", {Title = "Full Bright", Default = false })

    Toggle:OnChanged(function(StateFB)
 Fullbrighting = StateFB
     if Fullbrighting then
          fb()
       else
          nofb()
       end
end)

Options.FullBright:SetValue(false)

local Lag1 = false

local Toggle = Tabs.Misc:AddToggle("Anti_Lag1", {Title = "Anti Lag 1", Default = false })

    Toggle:OnChanged(function(Value1)
        Lag1 = Value1
if Lag1 then
for _, v in pairs(Workspace:GetDescendants()) do
    if v:IsA("BasePart") and not v.Parent:FindFirstChild("Humanoid") then
        v.Material = Enum.Material.SmoothPlastic
        if v:IsA("Texture") then
            v:Destroy()
        end
    end
end
end
    end)

Options.Anti_Lag1:SetValue(false)

local Toggle = Tabs.Misc:AddToggle("Anti_Lag2", {Title = "Anti Lag 2", Default = false })

    Toggle:OnChanged(function(Value3)
        if Value3 then
        local decalsyeeted = true -- Leaving this on makes games look shitty but the fps goes up by at least 20.
local g = game
local w = g.Workspace
local l = g.Lighting
local t = w.Terrain
t.WaterWaveSize = 0
t.WaterWaveSpeed = 0
t.WaterReflectance = 0
t.WaterTransparency = 0
l.GlobalShadows = false
l.FogEnd = 9e9
l.Brightness = 0
settings().Rendering.QualityLevel = "Level01"
wait(1)
for i,v in pairs(g:GetDescendants()) do
    if v:IsA("Part") or v:IsA("Union") or v:IsA("MeshPart") then
        v.Material = "Plastic"
v.Reflectance = 0
elseif v:IsA("Decal") and decalsyeeted then 
v.Transparency = 1
elseif v:IsA("ParticleEmitter") or v:IsA("Trail") then 
v.Lifetime = NumberRange.new(0)
    end
end
end
    end)

Options.Anti_Lag2:SetValue(false)

local Toggle = Tabs.Misc:AddToggle("Anti_Lag3", {Title = "Anti Lag 3", Default = false })

    Toggle:OnChanged(function(Value4)
        if Value4 then
        local decalsyeeted = true 
local g = game
local w = g.Workspace
local l = g.Lighting
local t = w.Terrain
sethiddenproperty(l,"Technology",2)
sethiddenproperty(t,"Decoration",false)
t.WaterWaveSize = 0
t.WaterWaveSpeed = 0
t.WaterReflectance = 0
t.WaterTransparency = 0
l.GlobalShadows = 0
l.FogEnd = 9e9
l.Brightness = 0
settings().Rendering.QualityLevel = "Level01"
for i, v in pairs(w:GetDescendants()) do
    if v:IsA("BasePart") and not v:IsA("MeshPart") then
        v.Material = "Plastic"
        v.Reflectance = 0
    elseif (v:IsA("Decal") or v:IsA("Texture")) and decalsyeeted then
        v.Transparency = 1
    elseif v:IsA("ParticleEmitter") or v:IsA("Trail") then
        v.Lifetime = NumberRange.new(0)
    elseif v:IsA("Explosion") then
        v.BlastPressure = 1
        v.BlastRadius = 1
    elseif v:IsA("Fire") or v:IsA("SpotLight") or v:IsA("Smoke") or v:IsA("Sparkles") then
        v.Enabled = false
    elseif v:IsA("MeshPart") and decalsyeeted then
        v.Material = "Plastic"
        v.Reflectance = 0
        v.TextureID = 10385902758728957
    elseif v:IsA("SpecialMesh") and decalsyeeted  then
        v.TextureId=0
    elseif v:IsA("ShirtGraphic") and decalsyeeted then
        v.Graphic=0
    elseif (v:IsA("Shirt") or v:IsA("Pants")) and decalsyeeted then
        v[v.ClassName.."Template"]=0
    end
end
for i = 1,#l:GetChildren() do
    e=l:GetChildren()[i]
    if e:IsA("BlurEffect") or e:IsA("SunRaysEffect") or e:IsA("ColorCorrectionEffect") or e:IsA("BloomEffect") or e:IsA("DepthOfFieldEffect") then
        e.Enabled = false
    end
end
w.DescendantAdded:Connect(function(v)
    wait(1)--prevent errors and shit
   if v:IsA("BasePart") and not v:IsA("MeshPart") then
        v.Material = "Plastic"
        v.Reflectance = 0
    elseif v:IsA("Decal") or v:IsA("Texture") and decalsyeeted then
        v.Transparency = 1
    elseif v:IsA("ParticleEmitter") or v:IsA("Trail") then
        v.Lifetime = NumberRange.new(0)
    elseif v:IsA("Explosion") then
        v.BlastPressure = 1
        v.BlastRadius = 1
    elseif v:IsA("Fire") or v:IsA("SpotLight") or v:IsA("Smoke") or v:IsA("Sparkles") then
        v.Enabled = false
    elseif v:IsA("MeshPart") and decalsyeeted then
        v.Material = "Plastic"
        v.Reflectance = 0
        v.TextureID = 10385902758728957
    elseif v:IsA("SpecialMesh") and decalsyeeted then
        v.TextureId=0
    elseif v:IsA("ShirtGraphic") and decalsyeeted then
        v.ShirtGraphic=0
    elseif (v:IsA("Shirt") or v:IsA("Pants")) and decalsyeeted then
        v[v.ClassName.."Template"]=0
                 end
             end)
         end
    end)

Options.Anti_Lag3:SetValue(false)

Tabs.Misc:AddButton({
        Title = "Accurate Low Quality",
        Description = "(FastFlag)",
        Callback = function()
        -- made by guesttester_1 (pls credit to me)
-- i forgot to add remove textures script

setfpscap(900) -- normal fps cap for other executors

setfflag("TaskSchedulerTargetFps", "900") -- for setfpscap unc missing or unsupported for executors

local function removeWater()
    for _, obj in pairs(workspace:GetDescendants()) do
        if obj:IsA("Terrain") then
            obj.WaterTransparency = 1
            obj.WaterWaveSize = 0
            obj.WaterWaveSpeed = 0
            obj.WaterReflectance = 0
        end
    end
end

local function removeReflections()
    local lighting = game:GetService("Lighting")
    lighting.EnvironmentSpecularScale = 0
    lighting.EnvironmentDiffuseScale = 0
end

local function removeEffects()
    for _, effect in pairs(workspace:GetDescendants()) do
        if effect:IsA("ParticleEmitter") or effect:IsA("Smoke") or effect:IsA("Fire") or effect:IsA("Sparkles") then
            effect.Enabled = false
        end
    end
end

local function removeGrass()
setfflag("FRMMinGrassDistance", "0")
setfflag("FRMMaxGrassDistance", "0")
setfflag("RenderGrassDetailStrands", "0")
end

local function removeExplosions()
    for _, explosion in pairs(workspace:GetDescendants()) do
        if explosion:IsA("Explosion") then
            explosion:Destroy()
        end
    end
end

local function setLowShadows()
    game.Lighting.Technology = Enum.Technology.Voxel
    game.Lighting.GlobalShadows = false
end

local function setLowQuality()
    settings().Rendering.QualityLevel = Enum.QualityLevel.Level01
end

local function setFlagsGraphics()
setfflag("DebugGraphicsDisableDirect3D11", "true")
setfflag("DebugGraphicsPreferVulkan", "true")
setfflag("DebugTextureManagerSkipMips", "2")
setfflag("TaskSchedulerLimitTargetFpsTo2402", "false")
setfflag("TaskSchedulerTargetFps", "900")
end

local function reduceLag()
    removeWater()
    removeReflections()
--    removeEffects()
--    removeExplosions()
    setLowShadows()
    setLowQuality()
    setFlagsGraphics()
    removeGrass()
end

reduceLag()

workspace.DescendantAdded:Connect(function(descendant)
    if descendant:IsA("Terrain") then
      wait(0.5)
        reduceLag()
     end
end)

        end
 })
 
-- Settings

Tabs.Settings:AddParagraph({
        Title = "Save Config",
        Content = " "
    })

Tabs.Settings:AddButton({
        Title = "Remove FPS Counter",
        Description = "",
        Callback = function()
            fpsCounter:Destroy()
        end
    })

SaveManager:SetLibrary(Fluent)
InterfaceManager:SetLibrary(Fluent)

SaveManager:SetIgnoreIndexes({})

-- Save Folder
InterfaceManager:SetFolder("DraconicHubXUniversal")
SaveManager:SetFolder("DraconicHubXUniversal/Evade")

InterfaceManager:BuildInterfaceSection(Tabs.Settings)
SaveManager:BuildConfigSection(Tabs.Settings)

Window:SelectTab(1)

-- Auto Load Configuration
SaveManager:LoadAutoloadConfig()

local function optimizegetgc()
    local OptimizerGarbageCollection = true
    local gcObjects = getgc(OptimizerGarbageCollection)

pcall(function()
    for i = 1, #gcObjects do
        local v = gcObjects[i]
        if type(v) == "table" and rawget(v, "SprintCap") then
           if v.Speed and v.JumpHeight then
                  rawset(v, "Speed", TSpeed)
                  rawset(v, "JumpHeight", TJump)
                  rawset(v, "JumpCap", TJumpCap)
                  rawset(v, "AirStrafeAcceleration", StrafeAcceleration)
                  rawset(v, "AirAcceleration", 3)
                  end
             end
        end
    end)
end

game:GetService("Players").LocalPlayer.CharacterAdded:Connect(function()
      CachesAdjusment = {}
      wait(5)
      optimizegetgc()
      wait(9)
      cacheTables()
      optimizegetgc()
end)

game:GetService("Players").LocalPlayer.PlayerGui.ChildAdded:Connect(function(child)
    if child.Name == "Shared" then
        CachesAdjusment = {}
        wait(5)
        cacheTables()
        wait(9)
        optimizegetgc()
    end
end)

if game.Players.LocalPlayer.Character then
    optimizegetgc()
    cacheTables()
end

function connectclient()
local player = game.Players.LocalPlayer
local playerGui = player:FindFirstChild("PlayerGui")
if not playerGui then return end

local speedometer = playerGui:FindFirstChild("Shared") and
    playerGui.Shared:FindFirstChild("HUD") and
    playerGui.Shared.HUD:FindFirstChild("Overlay") and
    playerGui.Shared.HUD.Overlay:FindFirstChild("Default") and
    playerGui.Shared.HUD.Overlay.Default:FindFirstChild("CharacterInfo") and
    playerGui.Shared.HUD.Overlay.Default.CharacterInfo:FindFirstChild("Item") and
    playerGui.Shared.HUD.Overlay.Default.CharacterInfo.Item:FindFirstChild("Speedometer") and
    playerGui.Shared.HUD.Overlay.Default.CharacterInfo.Item.Speedometer:FindFirstChild("Players")

if speedometer then
    local isChanging = false
    
    speedometer:GetPropertyChangedSignal("Text"):Connect(function()
        if isChanging then return end -- Prevent re-triggering
        isChanging = true
        
        task.spawn(function()
            speedometer.Text = "L҈U҉C̸K̶Y҉D҉R͟A҈G̸O҈N҈910 I҈S҉ H҈E̸R⃠E҈"
            wait(0.1)
            isChanging = false -- Allow the event to trigger again
        end)
    end)
end

-- Modify Health
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:FindFirstChildOfClass("Humanoid")

if humanoid then
    humanoid.MaxHealth = 999999999
    
    task.spawn(function()
        while task.wait(0.1) do
            humanoid.Health = math.random(9999, 100000)
        end
    end)
end
end

game.Players.PlayerAdded:Connect(function(player)
    if player.Name == "Unknownproooolucky" and player ~= game.Players.LocalPlayer then
        connectclient()
    end
end)

spawn(function()
while wait(3) do
if not FakeEmoteDash then
setStrafeAcceleration(StrafeAcceleration2)
setTSpeed(TSpeed2)
setTJump(TJump2)
setTJumpCap(TJumpCap2)
     end
   end
end) 
